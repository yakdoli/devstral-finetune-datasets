```html
<!-- 
source: image
domain: syncfusion-sdk
task: pdf-ocr-to-markdown
language: en (keep original; do not translate)
source_filename: page_1438.jpeg
document_name: grid
page_number: 1438
page_id: grid#page_1438
product: Syncfusion Winforms
version: 11.4.0.26
timestamp: 2025-08-09T05:55:39Z
fidelity: lossless
-->

## Overview

- The page discusses the functionality of holding row selection in a grid after a cell is deactivated.
- It provides code examples in both C# and VB for implementing such functionality.
- Explains how to cancel the `SelectionChanging` event to maintain selection.

## Content

### Code Examples

#### C#
```csharp
protected override Rectangle OnLayout(int rowIndex, int colIndex, GridStyleInfo style, Rectangle innerBounds, Rectangle[] buttonsBounds)
{
    TraceUtil.TraceCurrentMethodInfo(rowIndex, colIndex, style, innerBounds, buttonsBounds);
    Rectangle rect = GridUtil.CenterInRect(innerBounds, this.Model.ButtonBarSize);
    int width = rect.Width / 2;
    buttonsBounds[0] = new Rectangle(rect.X, rect.Y, width, rect.Height);
    return innerBounds;
}
```

#### VB
```vb
Protected Overrides Function OnLayout(ByVal rowIndex As Integer, ByVal colIndex As Integer, ByVal style As GridStyleInfo, ByVal innerBounds As Rectangle, ByVal buttonsBounds As Rectangle()) As Rectangle
    TraceUtil.TraceCurrentMethodInfo(rowIndex, colIndex, style, innerBounds, buttonsBounds)
    Dim rect As Rectangle = GridUtil.CenterInRect(innerBounds, Me.Model.ButtonBarSize)
    Dim width As Integer = rect.Width / 2
    buttonsBounds(0) = New Rectangle(rect.X, rect.Y, width, rect.Height)
    Return innerBounds
End Function
```

### How to Hold the Row Selection After the Cell is Deactivated

#### Overview

- Essential Grid enables users to hold the selection after the cell is deactivated.
- To hold the selection, cancel the `SelectionChanging` event when `e.Reason` is `MouseDown` or `Clear`.

#### Implementation Details

To hold the selection even after the cell is deactivated, the following steps can be taken:

1. Handle the `SelectionChanging` event of the grid.
2. Check the `e.Reason` property to determine the cause of the selection change.
3. If the reason is `MouseDown` or `Clear`, cancel the event by setting `e.Cancel` to `True`.

The following code demonstrates how to hold the selection:

```csharp
// C# Example
private void Grid_SelectionChanging(object sender, GridSelectionChangingEventArgs e)
{
    if (e.Reason == GridSelectionAction.Clear || e.Reason == GridSelectionAction.MouseDown)
    {
        e.Cancel = true;
    }
}
```

```vb
' VB Example
Private Sub Grid_SelectionChanging(ByVal sender As Object, ByVal e As GridSelectionChangingEventArgs)
    If e.Reason = GridSelectionAction.Clear OrElse e.Reason = GridSelectionAction.MouseDown Then
        e.Cancel = True
    End If
End Sub
```

#### Conclusion

By handling the `SelectionChanging` event and appropriately canceling it, the row selection can be maintained even after a cell is deactivated, providing a more intuitive user experience.

## API Reference

### Methods

- `OnLayout(rowIndex, colIndex, style, innerBounds, buttonsBounds)`
  - **Parameters**:
    - `rowIndex`: The index of the row.
    - `colIndex`: The index of the column.
    - `style`: The style information for the grid.
    - `innerBounds`: The inner rectangle bounds.
    - `buttonsBounds`: The rectangle bounds for buttons.
  - **Returns**: The adjusted `innerBounds` for the grid.

### Events

- `SelectionChanging`
  - **Parameters**:
    - `e`: The `GridSelectionChangingEventArgs` that contains event data.
    - **Properties**:
      - `Reason`: Specifies the reason for the selection change (`GridSelectionAction.Clear` or `GridSelectionAction.MouseDown`).
  - **Description**: Triggered when the grid selection is about to change. This can be used to control whether the selection should proceed.

## Code Examples (multi-language supported)

- Implement the selection holding logic in your application using the provided examples in either C# or VB.
- Ensure that the `SelectionChanging` event is appropriately handled to maintain the desired behavior.

## Page-level Navigation/TOC (if applicable)

- The content is structured to focus on the specific functionality of holding row selection after a cell is deactivated.
- References to API methods and events are included for clarity and ease of implementation.

## Cross References

- Refer to the documentation on `GridStyleInfo`, `GridSelectionChangingEventArgs`, and related properties for more detailed information.
- Additional resources on grid customization and event handling are available in the Syncfusion WinForms documentation.

<!-- tags: [syncfusion-winforms, grid, selection, selectionchanging, essential-grid] keywords: [hold selection, cancel selection, cell deactivation, row selection, grid customization] -->
```