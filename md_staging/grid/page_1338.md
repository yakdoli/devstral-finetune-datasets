```html
<!--
source: image
domain: syncfusion-sdk
task: pdf-ocr-to-markdown
language: en (keep original; do not translate)
source_filename: page_1338.jpeg
document_name: grid
page_number: 1338
page_id: grid#page_1338
product: Syncfusion Winforms
version: 11.4.0.26
timestamp: 2025-08-09T05:47:54Z
fidelity: lossless
-->

## Overview

- How to dynamically adjust the width of columns in the Essential Grid control for Windows Forms based on the client width.
- Steps to handle nested tables within the grid control, ensuring proper column width adjustments.
- Technique to create multiple rows per record in a `GridGroupingControl` using C# and VB.NET.

## Content

The parent/child table columns width can be set equally in proportion to the grid control's client width, by dynamically setting the columns width in the `TableModel.QueryColWidth` event handler. When it deals with a nested table, the `QueryColWidth` event of the entire nested table must be handled to set the respective nested table columns width.

### Calculating Available and Proportional Column Widths

In the `QueryColWidth` event handler, the available width for the columns can be calculated as follows:

```csharp
availableArea = groupingGrid.ClientSize.Width - gridModel.ColWidths.GetTotal(0, gridModel.Cols.HeaderCount) - indentColsTotalWidth;
```

and the proportional columns width can be calculated as follows:

```csharp
Size = (int) availableArea / (grid.TableDescriptor.VisibleColumns.Count);
```

### 5.3.5.2 How to create multiple rows per record in a GridGroupingControl

This can be done by using the `ColumnSets` property of the `GridGroupingControl`.

#### C#

```csharp
// Create a GridColumnSpanDescriptor and initialize to a column and mention its location to display
GridColumnSpanDescriptor columnSpanDescriptor1 = new GridColumnSpanDescriptor("Name", "ROC0");

// Create a GridColumnSetDescriptor
GridColumnSetDescriptor columnSetDescriptor1 = new GridColumnSetDescriptor();

// Add the GridColumnSpanDescriptor to the GridColumnSetDescriptor
columnSetDescriptor1.ColumnSpans.Add(columnSpanDescriptor1);

// Add the GridColumnSetDescriptor to the ColumnSet of the GridGroupingControl through the TableDescriptor.
this.gridGroupingControl1.TableDescriptor.ColumnSets.Add(columnSetDescriptor1);
```

#### VB

```vb
' [VB]
```

## API Reference (if applicable)

Not applicable in this excerpt.

## Code Examples (multi-language supported)

- **C# Example** for dynamically setting column widths:
```csharp
availableArea = groupingGrid.ClientSize.Width - gridModel.ColWidths.GetTotal(0, gridModel.Cols.HeaderCount) - indentColsTotalWidth;
Size = (int) availableArea / (grid.TableDescriptor.VisibleColumns.Count);
```

- **C# Example** for creating multiple rows per record in a `GridGroupingControl`:
```csharp
GridColumnSpanDescriptor columnSpanDescriptor1 = new GridColumnSpanDescriptor("Name", "ROC0");
GridColumnSetDescriptor columnSetDescriptor1 = new GridColumnSetDescriptor();
columnSetDescriptor1.ColumnSpans.Add(columnSpanDescriptor1);
this.gridGroupingControl1.TableDescriptor.ColumnSets.Add(columnSetDescriptor1);
```

## Cross References

- For more details on the `TableModel.QueryColWidth` event handler, refer to the relevant section in the Grid Control documentation.

<!-- tags: [Syncfusion, Grid, Windows Forms, QueryColWidth, Nested Tables, ColumnSets, GridGroupingControl] keywords: [parent/child table, proportion, client width, available area, proportional columns, multiple rows per record, GridColumnSpanDescriptor, GridColumnSetDescriptor] -->
```